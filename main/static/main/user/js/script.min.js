const mainGameButtons=document.querySelectorAll(".main__game-button_o");mainGameButtons&&mainGameButtons.forEach(e=>{e.addEventListener("click",()=>{const t=e.closest(".game").querySelector(".game__body");t.classList.contains("active")?(t.style.maxHeight=null,t.classList.remove("active")):(t.style.maxHeight=t.scrollHeight+"px",t.classList.add("active")),e.classList.toggle("active")})});const progressBar=document.querySelector(".graph__bar-value"),progressBarText=document.querySelector(".graph__bar-text");function changeProgressBar(){progressBarText.style.right=`-${progressBarText.clientWidth/2}px`,n=+progressBar.dataset.value,base="очк",n%10==0||n%10>4&n%10<10||n%100>10&n%100<15?progressBarText.textContent=`${n} ${base+"ов"}`:n%10>1&n%10<5?progressBarText.textContent=`${n} ${base+"а"}`:progressBarText.textContent=`${n} ${base+"о"}`,progressBar.style.width=progressBar.dataset.value+"%","light-theme"===localStorage.getItem("theme")?progressBar.style.backgroundColor=`hsl(${1.3*progressBar.dataset.value}, 42%, 54%)`:progressBar.style.backgroundColor="#188e8e"}progressBar&&changeProgressBar();const switchButton=document.querySelector(".theme-switch");function initialState(e){switchButton&&(switchButton.checked="light-theme"!==e),localStorage.setItem("theme",e),document.documentElement.className=e,progressBar&&changeProgressBar()}function initTheme(){localStorage.getItem("theme")?initialState(localStorage.getItem("theme")):initialState("light-theme")}initTheme(),switchButton&&switchButton.addEventListener("change",()=>{"light-theme"!==localStorage.getItem("theme")?initialState("light-theme"):initialState("dark-theme")});const sideBar=document.querySelector(".side"),burger=document.querySelector(".header__burger"),overlay=document.querySelector(".overlay");function analyseHandler(e){e.preventDefault();const t=this.closest(".main__game-buttons");t.querySelectorAll(".main__game-button").forEach(e=>{e.style.display="none"}),t.insertAdjacentHTML("afterbegin",'<div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>'),this.removeEventListener("click",analyseHandler),setTimeout(()=>{this.click()},3e3)}overlay&&overlay.addEventListener("click",()=>{sideBar.classList.remove("active"),document.body.classList.remove("lock"),overlay.classList.remove("active"),burger.classList.remove("active")}),burger&&burger.addEventListener("click",()=>{sideBar.classList.toggle("active"),document.body.classList.toggle("lock"),overlay.classList.toggle("active"),burger.classList.toggle("active")});const analyseButtons=document.querySelectorAll(".analyse-btn");analyseButtons.forEach(e=>{e.addEventListener("click",analyseHandler)});